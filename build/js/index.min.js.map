{"version":3,"sources":["footer-menu.js","inputs.js","popup.js","scroll-btn.js"],"names":[],"mappings":";;;AAAA;;;;;;ACAA;;;;;;ACAA;;;;;;ACAA","file":"index.min.js","sourcesContent":["'use strict';\n\nvar footer = document.querySelector('.page-footer');\nvar btnSelectors = ['.title-btn--address', '.title-btn--links'];\n\nvar btnToListAssoc = {\n  '.title-btn--address': '.footer-address__items-wrapper',\n  '.title-btn--links': '.footer-links__list-wrapper'\n};\n\nvar menuSelectors = ['.footer-address__items-wrapper', '.footer-links__list-wrapper'];\nmenuSelectors.forEach(function (selector) {\n  var currentMenu = footer.querySelector(selector);\n  if (currentMenu) {\n    currentMenu.classList.remove(selector.slice(1) + '--nojs');\n  }\n});\n\nif (footer) {\n  btnSelectors.forEach(function (menuBtnSelector) {\n    var currentBtn = footer.querySelector(menuBtnSelector);\n    if (currentBtn) {\n      currentBtn.addEventListener('click', function (evt) {\n        evt.preventDefault();\n        var currentMenuSelector = btnToListAssoc[menuBtnSelector];\n        var currentMenu = footer.querySelector(currentMenuSelector);\n\n        if (currentMenu) {\n          currentBtn.classList.toggle('title-btn--closed');\n          currentMenu.classList.toggle(currentMenuSelector.slice(1) + '--show');\n        }\n      });\n    }\n  });\n}\n","'use strict';\n\nvar phoneNumberInputs = document.querySelectorAll('form input[type=\"tel\"]');\n\nvar maskOptions = {\n  mask: '+{7}(000)000-00-00'\n};\n\nvar maskPhoneNumberInput = function (input) {\n  return new window.IMask(input, maskOptions);\n};\n\nphoneNumberInputs.forEach(function (input) {\n  maskPhoneNumberInput(input);\n});\n","'use strict';\n\nvar header = document.querySelector('.page-header');\nvar callRequestBtn = header.querySelector('.main-nav__call-request');\n\nvar feedbackPopup = document.querySelector('.feedback-popup');\nvar closeBtn = feedbackPopup.querySelector('.feedback-popup__close');\nvar overlay = document.querySelector('.overlay');\n\nvar feedbackPopupForm = feedbackPopup.querySelector('form');\nvar feedbackPopupFormName = feedbackPopupForm.querySelector('input[name=\"first-name\"]');\nvar feedbackPopupFormPhone = feedbackPopupForm.querySelector('input[name=\"phone-number\"]');\n\nvar selectorFeedbackPopupShow = 'feedback-popup--show';\n\nvar KEYCODE_ESCAPE = 27;\n\nvar userName = null;\nvar userPhoneNumber = null;\n\nif (localStorage && localStorage.getItem('userName')) {\n  userName = localStorage.getItem('userName');\n}\n\nif (localStorage && localStorage.getItem('userPhoneNumber')) {\n  userPhoneNumber = localStorage.getItem('userPhoneNumber');\n}\n\nif (userName && userPhoneNumber) {\n  feedbackPopupFormName.value = userName;\n  feedbackPopupFormPhone.value = userPhoneNumber;\n}\n\nvar closePopup = function () {\n  if (overlay && feedbackPopup) {\n    overlay.classList.remove('overlay--show');\n    feedbackPopup.classList.remove(selectorFeedbackPopupShow);\n    window.removeEventListener('scroll', disableScroll);\n  }\n};\n\nvar disableScroll = function () {\n  window.scrollTo(0, 0);\n};\n\nvar openPopup = function () {\n  if (overlay && feedbackPopup) {\n    overlay.classList.add('overlay--show');\n    feedbackPopup.classList.add(selectorFeedbackPopupShow);\n\n    if (getComputedStyle(document.body).overflow === 'visible') {\n      window.addEventListener('scroll', disableScroll);\n    }\n\n    document.addEventListener('keydown', function (evt) {\n      if (evt.keyCode === KEYCODE_ESCAPE) {\n        evt.preventDefault();\n\n        closePopup();\n      }\n    });\n\n    if (closeBtn) {\n      closeBtn.addEventListener('click', function (evt) {\n        evt.preventDefault();\n\n        closePopup();\n      });\n    }\n\n    overlay.addEventListener('click', function () {\n      closePopup();\n    });\n  }\n};\n\nif (callRequestBtn) {\n  callRequestBtn.addEventListener('click', function (evt) {\n    evt.preventDefault();\n\n    openPopup();\n  });\n}\n\nif (feedbackPopupForm) {\n  feedbackPopupForm.addEventListener('submit', function () {\n    localStorage.setItem('userName', feedbackPopupFormName.value);\n    localStorage.setItem('userPhoneNumber', feedbackPopupFormPhone.value);\n\n    feedbackPopupForm.submit();\n  });\n}\n","'use strict';\n\nvar SMOOTH_SCROLL_DURATION = 500;\n\nvar scrollBtn = document.querySelector('.scroll-down');\nvar nextSection = document.querySelector('.company-information');\n\n\nvar easeInOutQuad = function (t, b, c, d) {\n  t /= d / 2;\n  if (t < 1) {\n    return c / 2 * t * t + b;\n  }\n  t--;\n  return -c / 2 * (t * (t - 2) - 1) + b;\n};\n\nfunction scrollTo(to, duration) {\n  var element = document.scrollingElement;\n  var start = (element && element.scrollTop) || window.pageYOffset;\n  var change = to - start;\n  var increment = 20;\n  var currentTime = 0;\n\n  var animateScroll = function () {\n    currentTime += increment;\n    var val = easeInOutQuad(currentTime, start, change, duration);\n    window.scrollTo(0, val);\n    if (currentTime < duration) {\n      window.setTimeout(animateScroll, increment);\n    }\n  };\n  animateScroll();\n}\n\nif (scrollBtn) {\n  scrollBtn.classList.remove('scroll-down--nojs');\n  scrollBtn.addEventListener('click', function (evt) {\n    evt.preventDefault();\n    scrollTo(nextSection.offsetTop, SMOOTH_SCROLL_DURATION);\n  });\n}\n"]}